#!/bin/sh

#  This is not a real autoconf configure script.
#  I will not ship a configure script that is larger than
#    the generated linux_logo executable.
#  This is a simple shell script that gathers the info linux_logo
#    needs, and should be compatible enough.
#  - vmw

ARCH=`uname -m`
OS=`uname`
PREFIX=/usr/local
INSTALL=`which install`

if [ -z $CC ]; then
   CC=`which gcc`
   if [ -n $CC ]; then
      CC=gcc
   fi
   else if [ -z $CC ]; then
      CC=`which cc`
      if [ -n $CC ]; then
         CC=cc 
      fi
   fi
fi

if [ -z $AR ]; then
   AR=`which ar`
   if [ -n $AR ]; then
      AR=ar
   fi
fi

if [ $OS = SunOS ]; then
   AR=/usr/ccs/bin/ar
fi
   
CFLAGS="-Wall -O2"
LIBSYSINFO_INCLUDE="-I.."
LFLAGS=""


echo
echo "CONFIGURING LIBSYSINFO"
echo "  Detected Architecture:     "$ARCH
echo "  Detected Operating System: "$OS
#echo "  Install prefix:  "$PREFIX
#echo "  Install program: "$INSTALL
echo "  C Compiler : "$CC
echo "  AR         : "$AR
echo "  CFLAGS     : "$CFLAGS
echo

echo "CC=$CC" > Makefile.default
echo "AR=$AR" >> Makefile.default
echo "ARCH=$ARCH" >> Makefile.default
echo "OS=$OS" >> Makefile.default
echo "PREFIX=$PREFIX" >> Makefile.default
echo "INSTALL=$INSTALL" >> Makefile.default
echo "CFLAGS=$CFLAGS" >> Makefile.default
echo "LIBSYSINFO_INCLUDE=$LIBSYSINFO_INCLUDE" >> Makefile.default
echo "LFLAGS=$LFLAGS" >> Makefile.default
