##############################################################
#  Makefile for Linux Logo src directory                     #
#                                                            #
#  Changed to use gnu atonconfigure 27 March 1999            #
#                                                            #
##############################################################

SHELL = /bin/sh
VPATH = @srcdir@

subdirs = @subdirs@
top_srcdir = @top_srcdir@
srcdir = @srcdir@
prefix = @prefix@
exec_prefix = @exec_prefix@
bindir = $(exec_prefix)/bin
mandir = $(prefix)/man/man1

BUILD_OS = @detected_os@
BUILD_CPU = @detected_cpu@

CC = @CC@
CPPFLAGS = @CPPFLAGS@
CFLAGS = -Wall -DBUILD_OS=$(BUILD_OS) -DBUILD_CPU=$(BUILD_CPU) $(CPPFLAGS) @CFLAGS@
LDFLAGS = @LDFLAGS@
LIBS = @LIBS@
INSTALL = @INSTALL@

#Your compiler.  If gcc doesn't work, try CC
#CC = gcc

#For Linux Systems
#PLATFORM = 'Linux'
#C_OPTS = -O2 -Wall -DLINUX_ANSI 

#For Sgi
#PLATFORM = 'SGI'
#C_OPTS = -O2 -DIRIX_ANSI -DSGI

#For AIX
#PLATFORM = 'AIX'
#C_OPTS = -O2 -DAIX

#For All Other Unixes
#PLATFORM = 'Default Unix'
#C_OPTS = -O2 

all:	linux_logo

clean:
	/bin/rm -f *.o
	/bin/rm -f linux_logo
	/bin/rm *~
	
distclean:	clean

install:	linux_logo
	$(INSTALL) linux_logo $(bindir)

uninstall:
	/bin/rm -f $(bindir)/linux_logo
	
linux_logo:	linux_logo.o sysinfo.o bogomips.o
	$(CC) $(CFLAGS) -o linux_logo linux_logo.o bogomips.o sysinfo.o $(LIBS)
	@strip linux_logo

linux_logo.o:	linux_logo.c ascii_penguin.h defaults.h
	@echo Compiling for $(PLATFORM)
	@echo Edit the Makefile to change Platform
	@echo Edit defaults.h to change Default Values
	$(CC) $(CFLAGS) -c linux_logo.c

sysinfo.o:	sysinfo.c sysinfo.c sysinfo_default.c sysinfo_common.h sysinfo_aix.c sysinfo_irix.c sysinfo_ix86.c sysinfo_m68k.c sysinfo_ppc.c sysinfo_sparc.c sysinfo_mips.c
	$(CC) $(CFLAGS) -c sysinfo.c 

bogomips.o:	bogomips.c
	$(CC) $(CFLAGS) -c bogomips.c
